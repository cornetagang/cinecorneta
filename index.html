<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cine Corneta</title>
<link rel="icon" type="image/png" href="https://i.imgur.com/u71QEFc.png">
<link href="https://fonts.googleapis.com/css2?family=Bungee&display=swap" rel="stylesheet">
<style>
:root {
    /* Paleta de colores Negro y Rojo */
    --primary-red: #E50914;
    --secondary-red: #b20710;
    --bg-dark: #141414;
    --panel-dark: #222;
    --text-light: #e6e3db;
    --text-muted: #8a8a92;
}

/* ===== ESTILOS GLOBALES Y RESET ===== */
*, *::before, *::after {
    box-sizing: border-box;
}

html, body {
    height: 100%;
    margin: 0;
    padding: 0;
    background: var(--bg-dark);
    color: var(--text-light);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    letter-spacing: 0.2px;
    overflow-x: hidden;
}

.wrap {
    width: 100%;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding: 24px;
}

/* ===== TÍTULO Y TARJETAS PRINCIPALES ===== */
.title-panel {
    background: #1C1C1C;
    font-family: 'Bungee', cursive;
    padding: 20px 30px;
    border-radius: 8px;
    border: 4px solid var(--secondary-red);
    text-align: center;
    margin-bottom: 40px;
    position: relative;
    overflow: hidden;
    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.8), 0 5px 15px rgba(0, 0, 0, 0.6);
    width: 100%;
    max-width: 600px;
}

.title-panel h1 {
    margin: 0;
    font-size: clamp(28px, 6vw, 50px);
    font-weight: normal;
    letter-spacing: 3px;
    color: #F8F8F8;
    text-shadow: 0 0 8px rgba(255,255,255,0.7), 0 0 20px var(--primary-red), 0 0 30px var(--secondary-red);
    animation: flicker 2s infinite alternate;
    position: relative;
    z-index: 1;
}

@keyframes flicker {
    0%, 18%, 22%, 25%, 53%, 57%, 100% {
        text-shadow: 0 0 8px rgba(255, 255, 255, 0.7), 0 0 20px var(--primary-red), 0 0 30px var(--secondary-red);
    }
    20%, 24%, 55% {
        text-shadow: 0 0 5px rgba(229, 9, 20, 0.3);
    }
}

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 24px;
    width: 100%;
    max-width: 1400px;
}

.movie-card {
    background: var(--panel-dark);
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.45);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    display: flex;
    flex-direction: column;
    width: 100%;
    aspect-ratio: 2/3;
    cursor: pointer;
}

.movie-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.55), 0 0 15px var(--primary-red);
}

.thumb {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* ===== MODALES GENERALES ===== */
#cinema, #cinemaDexter, #cinemaPeacemaker, #languageModal {
    position: fixed;
    inset: 0;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 16px;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(5px);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
    overflow-y: auto;
}

#cinema {
    flex-direction: column;
}

#cinema.show, #cinemaDexter.show, #cinemaPeacemaker.show {
    opacity: 1;
    pointer-events: auto;
}

#languageModal {
    display: none;
}

#languageModal.show {
    display: flex;
    opacity: 1;
    pointer-events: auto;
}

.modal-content {
    background: var(--panel-dark);
    padding: 20px 30px;
    border-radius: 16px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
    text-align: center;
    max-width: 500px;
    width: 95%;
    position: relative;
}

.modal-content h2 {
    margin-top: 0;
    margin-bottom: 20px;
    color: var(--primary-red);
}

.screen {
    background: #000;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 0 50px rgba(0, 0, 0, 0.7);
    width: 100%;
    max-width: 1200px;
    aspect-ratio: 16/9;
}

.screen iframe {
    width: 100%;
    height: 100%;
    border: none;
}

.close-btn {
    position: absolute;
    top: 20px;
    right: 20px;
    background: var(--secondary-red);
    color: #fff;
    border: none;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    cursor: pointer;
    font-weight: bold;
    font-size: 18px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    z-index: 1010;
}

.close-btn:hover {
    transform: translateY(-2px) scale(1.1);
    box-shadow: 0 0 8px var(--secondary-red), 0 4px 8px rgba(0, 0, 0, 0.5);
}

.episode-btn {
    display: block;
    margin: 10px auto;
    padding: 12px 18px;
    background-color: #222;
    color: #fff;
    border: 1px solid #444;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    width: 100%;
    max-width: 250px;
    transition: all 0.2s ease;
}

.episode-btn:hover:not(:disabled) {
    background-color: var(--primary-red);
    color: #fff;
    border-color: var(--primary-red);
    transform: scale(1.03);
}

/* ===== ESTILOS GENÉRICOS PARA REPRODUCTORES DE SERIES ===== */
.player-layout-container {
    display: flex;
    width: 100%;
    height: 100%;
    align-items: center;
    justify-content: center;
    gap: 2vw;
}

.player-container {
    flex: 1 1 auto;
    min-width: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.episode-sidebar {
    flex: 0 0 420px;
    background: rgba(10, 10, 12, 0.8);
    border-radius: 12px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    border: 1px solid rgba(255, 255, 255, 0.1);
    height: clamp(450px, 88vh, 800px);
}

.episode-sidebar h2 {
    margin: 0 0 15px 0;
    color: var(--text-light);
    font-size: clamp(18px, 2.5vw, 24px);
}

.season-dropdown {
    width: 100%;
    padding: 10px;
    background: var(--panel-dark);
    color: var(--text-light);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    margin-bottom: 15px;
    font-size: 16px;
}

.episode-list-container {
    overflow-y: auto;
    flex-grow: 1;
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.episode-list-container::-webkit-scrollbar {
    display: none;
}

.episode-card {
    display: flex;
    align-items: center;
    background-color: transparent;
    border-radius: 8px;
    margin-bottom: 15px;
    padding: 12px;
    border: 2px solid transparent;
    transition: background-color 0.2s ease, border-color 0.2s ease;
    cursor: pointer;
}

.episode-card:hover {
    background-color: #2a2a2a;
    border-color: #444;
}

.episode-card.unavailable {
    opacity: 0.6;
    cursor: not-allowed;
}

.episode-card-thumb {
    width: 150px;
    height: 84px;
    flex-shrink: 0;
    object-fit: cover;
    border-radius: 4px;
}

.episode-card-info {
    padding-left: 15px;
    color: var(--text-muted);
}

.episode-card-info h3 {
    margin: 0 0 8px 0;
    color: var(--text-light);
    font-size: 16px;
    transition: color 0.3s ease;
}

.episode-card-info p {
    margin: 0;
    font-size: 14px;
    line-height: 1.5;
    max-height: 4.5em;
    overflow: hidden;
    transition: max-height 0.4s ease-out;
}

.episode-card-info p.expanded {
    max-height: 500px;
}

.toggle-desc {
    display: inline-block;
    margin-top: 8px;
    color: var(--primary-red);
    font-weight: bold;
    text-decoration: none;
    cursor: pointer;
}

.episode-card.active {
    background-color: var(--panel-dark);
    border-color: var(--primary-red);
}

.episode-card.active .episode-card-info h3 {
    color: var(--primary-red);
}

.player-controls {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin-top: 15px;
}

.player-controls .episode-btn {
    margin: 0;
    width: 160px;
}

.player-controls button:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    background: var(--panel-dark);
    color: var(--text-muted);
    border-color: #444;
}

.episode-counter-wrap {
    width: 100%;
    text-align: center;
    margin-top: 10px;
    font-weight: bold;
    color: var(--text-muted);
}

#dexterCinemaTitle {
    color: #FBD4D6;
    font-weight: bold;
    margin-bottom: 15px;
    text-align: center;
    font-size: clamp(16px, 2vw, 20px);
    text-shadow: 0 0 5px #EC1C24, 0 0 10px #F4545C;
}

#peacemakerCinemaTitle {
    color: #4dd5ff;
    font-weight: bold;
    margin-bottom: 15px;
    text-align: center;
    font-size: clamp(16px, 2vw, 22px);
    text-shadow: 0 0 8px #ff4d4d, 0 0 15px #ff4d4d;
}

.language-select-wrap {
    display: none;
    padding-top: 15px;
    margin-top: 15px;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
}

.language-select-wrap.show {
    display: block;
}

.language-select-wrap h3 {
    margin: 0 0 10px 0;
    color: var(--primary-red);
    text-align: center;
}

.language-select-wrap .episode-btn.active {
    background-color: var(--primary-red);
    color: #fff;
    box-shadow: 0 0 10px var(--primary-red);
    transform: scale(1.05);
    border-color: var(--primary-red);
}

.thumbnail-placeholder {
    width: 150px;
    height: 84px;
    flex-shrink: 0;
    background-color: #2a2a2a;
    border-radius: 4px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    border: 1px dashed #444;
}

.release-day {
    font-size: 48px;
    line-height: 1;
    color: var(--text-light);
}

.release-month {
    font-size: 18px;
    letter-spacing: 2px;
    color: var(--primary-red);
}

#release-box, .countdown-box {
    display: none;
    background: var(--panel-dark);
    color: var(--text-light);
    padding: 30px 40px;
    border-radius: 12px;
    box-shadow: 0 0 25px rgba(0,0,0,0.8);
    font-weight: bold;
    text-align: center;
    border: 2px solid var(--primary-red);
}

.countdown-box {
    width: 100%;
    aspect-ratio: 16 / 9;
    max-width: 1200px;
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

#release-box .countdown-title, .countdown-box .countdown-title {
    font-size: 1.2em;
    color: var(--text-muted);
    margin-bottom: 15px;
}

#release-box .countdown-timer, .countdown-box .countdown-timer {
    font-size: 2em;
    color: var(--primary-red);
    letter-spacing: 2px;
}

/* ===== REGLAS RESPONSIVAS (MEDIA QUERIES) ===== */
@media (max-width: 1024px) {
    .player-layout-container {
        flex-direction: column;
        justify-content: flex-start;
        height: auto;
        overflow-y: auto;
        padding-top: 60px;
    }
    .player-container {
        order: 1;
        width: 100%;
        max-width: 900px;
    }
    .episode-sidebar {
        order: 2;
        flex-basis: auto;
        width: 100%;
        max-width: 100%;
        height: auto;
        max-height: 50vh;
        margin-top: 20px;
    }
     #cinemaDexter .screen, #cinemaPeacemaker .screen {
        max-height: 50vh;
     }
}
</style>
</head>
<body>

<div class="wrap">
    <div class="title-panel">
        <h1>Cine Corneta</h1>
    </div>
    <div class="grid">
        <div class="movie-card" onclick="openCinema('1M2P0y3llzW-Yf_HVNQdRip-l-Q8CY40-')">
            <img class="thumb" src="https://image.tmdb.org/t/p/w342//lfMKNOaaS2jGT3QKUaiFA8cO7DC.jpg" alt="Superman" loading="lazy" />
        </div>
        <div class="movie-card" onclick="openCinema('1Y4iCS1QUzmbrP2hYPqy6Fvc2-HqEvyYk')">
            <img class="thumb" src="https://image.tmdb.org/t/p/w342//hME3AVfVT3dCaHgNSEAeLCORZBm.jpg" alt="The Batman" loading="lazy" />
        </div>
        <div class="movie-card" onclick="openPeacemakerCinema()">
            <img class="thumb" src="https://i.imgur.com/SQPGcwW.jpeg" alt="Peacemaker" loading="lazy" />
        </div>
        <div class="movie-card" onclick="openDexter()">
            <img class="thumb" src="https://image.tmdb.org/t/p/w342/q8dWfc4JwQuv3HayIZeO84jAXED.jpg" alt="Dexter" loading="lazy" />
        </div>
        <div class="movie-card" onclick="openCinema('16abUo2Az6CChgacccUj4_mL2Aiej6bpq')">
            <img class="thumb" src="https://image.tmdb.org/t/p/w342//fbUwSqYIP0isCiJXey3staY3DNn.jpg" alt="Interestelar" loading="lazy" />
        </div>
        <div class="movie-card" onclick="openCinema('1f6b5zCtAre2pO3mQ87C-HP-iG3DVgFFo')">
            <img class="thumb" src="https://image.tmdb.org/t/p/w342//9kJH2MZ5vaOjuHVvUcnwpa3qCuS.jpg" alt="Aniquilación" loading="lazy" />
        </div>
        <div class="movie-card" onclick="openCinema('1aZ333XH9OGah78an6pTYs5S83A13c0iV')">
            <img class="thumb" src="https://m.media-amazon.com/images/M/MV5BMmNhZDkxYTgtMDM3ZC00NTQ3LWFjZTUtNzc1Y2QyNWZjNDRmXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" alt="Ocean Eleven" loading="lazy" />
        </div>
        <div class="movie-card" onclick="openCinema('1dc06j5pPDeEr95hHvpH0Sf4lpXW1K0UN')">
            <img class="thumb" src="https://i.imgur.com/yCGUkDV.png" alt="Secreto en la Montaña" loading="lazy" />
        </div>
        <div class="movie-card" onclick="openCinema('1dOyG3Citdla0WL2TsZSksnFU7USozUKN')">
            <img class="thumb" src="https://m.media-amazon.com/images/M/MV5BOTgyOGQ1NDItNGU3Ny00MjU3LTg2YWEtNmEyYjBiMjI1Y2M5XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg" alt="El Club de la Pelea" loading="lazy" />
        </div>
        <div class="movie-card" onclick="openCinema('1Y24D827VR7W5KKmK7ToO4-c5OI4ADvf2')">
            <img class="thumb" src="https://la.movie/wp-content/uploads/thumbs/fa1e9c965314ccd7810fb5ea838303e5_hd.webp" alt="El Reino de los Cielos" loading="lazy" />
        </div>
    </div>
</div>

<div id="languageModal">
    <div class="modal-content">
        <h2>Selecciona idioma</h2>
        <button class="episode-btn" id="lang-es">Español</button>
        <button class="episode-btn" id="lang-en">Inglés</button>
    </div>
</div>

<div id="cinema">
    <button class="close-btn" onclick="closeCinema()">X</button>
    <div class="screen">
        <iframe id="video-frame" src="" allow="autoplay" allowfullscreen></iframe>
    </div>
    <div id="release-box"></div>
</div>

<div id="cinemaDexter">
    <button class="close-btn" onclick="closeCinemaDexter()">X</button>
    <div class="player-layout-container">
        <div class="player-container">
            <img src="https://i.imgur.com/pntevFY.png" alt="Dexter Logo" style="width:200px; max-width:90%; margin-bottom: 10px; display:block;">
            <div id="dexterCinemaTitle"></div>
            <div class="screen">
                <iframe id="video-frame-dexter" src="" allowfullscreen></iframe>
            </div>
            <div class="player-controls" id="cinemaDexterControls">
                <button class="episode-btn" id="dexterPrevBtn">Anterior</button>
                <button class="episode-btn" id="dexterNextBtn">Siguiente</button>
                <div class="episode-counter-wrap">
                    <span id="dexterEpisodeCounter"></span>
                </div>
            </div>
        </div>
        <div class="episode-sidebar" id="dexter-sidebar">
            <h2>Temporadas y Episodios</h2>
            <select id="season-selector" class="season-dropdown"></select>
            <div class="episode-list-container" id="episode-list-container"></div>
        </div>
    </div>
</div>

<div id="cinemaPeacemaker">
    <button class="close-btn" onclick="closePeacemakerCinema()">X</button>
    <div class="player-layout-container">
        <div class="player-container">
            <img src="https://i.imgur.com/kSvrSb2.png" alt="Peacemaker Logo" style="width:300px; max-width:90%; margin-bottom: 10px; display:block;">
            <div id="peacemakerCinemaTitle"></div>
            <div class="screen">
                <iframe id="video-frame-peacemaker" src="" allowfullscreen></iframe>
            </div>
            <div id="peacemaker-countdown-box" class="countdown-box"></div>
            <div class="player-controls">
                <button class="episode-btn" id="peacemakerPrevBtn">Anterior</button>
                <button class="episode-btn" id="peacemakerNextBtn">Siguiente</button>
                <div class="episode-counter-wrap">
                    <span id="peacemakerEpisodeCounter"></span>
                </div>
            </div>
        </div>
        <div class="episode-sidebar" id="peacemaker-sidebar">
            <h2>Temporadas y Episodios</h2>
            <select id="peacemaker-season-selector" class="season-dropdown"></select>
            <div class="episode-list-container" id="peacemaker-episode-list-container"></div>
            <div id="peacemaker-language-select" class="language-select-wrap">
                <h3>Idioma</h3>
                <button class="episode-btn" id="pm-lang-es">Español</button>
                <button class="episode-btn" id="pm-lang-en">Inglés</button>
            </div>
        </div>
    </div>
</div>


<script>
    let countdownInterval;
    let playerState = {
        dexter: {
            season: 1,
            episodeIndex: 0
        },
        peacemaker: {
            season: 'Temporada 2',
            episodeIndex: 0
        }
    };

    // ===========================================================
    // DATABASE DE SERIES
    // ===========================================================
    const peacemakerData = {
        'Temporada 2': [
            { title: "Los lazos que muelen", videoId_es: "1ozRKZ6iquAuLyxji-Kh4u9_rOaeCUZXv", videoId_en: "1OW3HwiwiFtJ4pTu3yvyxU74sB0SbYGIz", thumbnail: "https://beam-images.warnermediacdn.com/BEAM_LWM_DELIVERABLES/bef3c15c-d62b-4acb-abb1-c8351ca668da/bb298b74-e97e-4b58-bd0a-8b8283495e06?host=wbd-images.prod-vod.h264.io&partner=beamcom&w=320", description: "Mientras Peacemaker intenta unirse a la Pandilla de la Justicia, Harcourt tiene dificultades para encontrar trabajo y Economos asume un nuevo desafío." },
            { title: "Un Hombre Vale Tanto Como Su Pájaro", videoId_es: "1fqIA1T5MIoXZfUwyeClO1UcONLecr34n", videoId_en: "1csehTnd5Xb2v7xPBv4xNvCQxtO41M1Tg", thumbnail: "https://beam-images.warnermediacdn.com/BEAM_LWM_DELIVERABLES/f51f64fd-fbcc-48e5-8437-eef5cce08b6e/4dcb9d6f-5dd9-4f3d-bdd0-a3303e0fd82f?host=wbd-images.prod-vod.h264.io&partner=beamcom&w=320", description: "Mientras Economos se enfrenta a su nuevo responsable, Peacemaker debe enfrentar las consecuencias de sus acciones en la dimensión alterna." },
            { title: "Próximamente...", releaseDate: '2025-09-05', description: "El episodio 3 se estrena pronto." },
            { title: "Próximamente...", releaseDate: '2025-09-12', description: "El episodio 4 se estrena pronto." },
            { title: "Próximamente...", releaseDate: '2025-09-19', description: "El episodio 5 se estrena pronto." },
            { title: "Próximamente...", releaseDate: '2025-09-26', description: "El episodio 6 se estrena pronto." },
            { title: "Próximamente...", releaseDate: '2025-10-03', description: "El episodio 7 se estrena pronto." },
            { title: "Próximamente...", releaseDate: '2025-10-10', description: "El episodio 8 se estrena pronto." }
        ]
    };
    const dexterData = {
    1: [
        { 
            title: "Dexter", videoId: "1xfWPP4ZMSbM6R9nHqVEjg6UPNpemnhUC", thumbnail: "https://image.tmdb.org/t/p/w300/70rjTrItEJCyr6u8zmAVQrdmcrP.jpg", description: "Dexter Morgan, analista de salpicaduras de sangre del Departamento de Policía de Miami, lleva una doble vida como un asesino en serie justiciero que persigue a criminales que han eludido el sistema de justicia." }, 
        { 
            title: "Crocodile", videoId: "17CF2L5WE25SnYbQ1lta-QVBkx_eWldsT", thumbnail: "https://image.tmdb.org/t/p/w300/vcx9a4vVzQfKO2IysTKC0wLLJQ0.jpg", description: "Dexter investiga un asesinato en el que un oficial de policía es el principal sospechoso. Mientras tanto, un nuevo asesino en serie conocido como el 'Asesino del Camión de Hielo' comienza a dejar un rastro de cuerpos desmembrados." }, 
        { 
            title: "Popping Cherry", videoId: "1shWSGANTDiyPsRqF_TeviwJNFcM9Hh1m", thumbnail: "https://image.tmdb.org/t/p/w300/pVjoJyTwsUGP7rCLkd7S8V4GgGu.jpg", description: "La investigación sobre el Asesino del Camión de Hielo se intensifica. Dexter se siente extrañamente atraído por el estilo metódico del asesino, mientras que su hermana Debra está ansiosa por ser transferida al departamento de homicidios." }, 
        { 
            title: "Let's Give the Boy a Hand", videoId: "1LOBarwHKi_ZdhbxdFVmyBMJ-eYNM9-LZ", thumbnail: "https://image.tmdb.org/t/p/w300/e6ZiRNeHCFuXRJdwoQJORA9q9nl.jpg", description: "El Asesino del Camión de Hielo comienza a dejar pistas personales para Dexter, lo que sugiere una conexión con su propio pasado oscuro." }, 
        { 
            title: "Love American Style", videoId: "1TPoklQPiwIeOeOjvTMd87o5JOl3kSURy", thumbnail: "https://image.tmdb.org/t/p/w300/fpLBlBrhOSqUHXDEiiTRh9k7zPj.jpg", description: "Se descubre una víctima del Asesino del Camión de Hielo que ha sobrevivido. Dexter ve la oportunidad de aprender más sobre el asesino, pero el caso toma un giro inesperado." }, 
        { 
            title: "Return to Sender", videoId: "12J1-q4Cr73vikEkU2CFtRCCnAbVJeqyW", thumbnail: "https://image.tmdb.org/t/p/w300/fg5uVRanMihJ184Za4UqwYjumBE.jpg", description: "El Asesino del Camión de Hielo deja una escena del crimen que es una réplica de uno de los asesinatos de Dexter, llevando la investigación peligrosamente cerca de él." }, 
        { 
            title: "Circle of Friends", videoId: "1kNUMR67Mx16kBnOwXmWaqfKBTY2WsG-h", thumbnail: "https://image.tmdb.org/t/p/w300/gpqFeUvCSMNWFd4IJbtY2FH6noD.jpg", description: "La policía de Miami cree haber identificado al Asesino del Camión de Hielo, pero Dexter tiene sus dudas y comienza su propia investigación para descubrir la verdadera identidad del asesino." }, 
        { 
            title: "Shrink Wrap", videoId: "1uPzmYfaGxtMyqltepv-Y_7pVb9eY4SfX", thumbnail: "https://image.tmdb.org/t/p/w300/lSPPQLhChQTyU8SoVeyBLcNxzhU.jpg", description: "La investigación lleva a Dexter a un psiquiatra que puede tener información crucial sobre el Asesino del Camión de Hielo y, posiblemente, sobre el propio pasado de Dexter." }, 
        { 
            title: "Father Knows Best", videoId: "1NOVrVbw_rbiGdRJb0AY-eX7C_39bi2VE", thumbnail: "https://image.tmdb.org/t/p/w300/8IUBoErgGbboihLAuPDhN5IsO2s.jpg", description: "Dexter descubre que su padre adoptivo, Harry, le ocultó secretos sobre su origen. La revelación de la existencia de su hermano biológico lo estremece." }, 
        { 
            title: "Seeing Red", videoId: "1rfMjrPJMt5zKtt1zUL_0YuJsIddVu2QB", thumbnail: "https://i.imgur.com/OZUbwOq.png", description: "Una escena del crimen desencadena recuerdos reprimidos de la infancia traumática de Dexter, revelando el origen de su 'Pasajero Oscuro'." }, 
        { 
            title: "Truth Be Told", videoId: "1VteS_LtubhgSuJqCBFTU8Yc2JoNRHpYx", thumbnail: "https://image.tmdb.org/t/p/w300/igwp2lTwkn8LoLTLBzPG49hzqbB.jpg", description: "El Asesino del Camión de Hielo secuestra a alguien cercano a Dexter, obligándolo a un enfrentamiento directo y a revivir su pasado." }, 
        { 
            title: "Born Free", videoId: "1RQTf76eLx_q2qCoempbz9JKAMJx_IEgO", thumbnail: "https://image.tmdb.org/t/p/w300/1ObZDLK3f7BucdgtmAlHZRYN3IB.jpg", description: "En un final impactante, Dexter se enfrenta a su hermano, el Asesino del Camión de Hielo, y debe tomar una decisión que cambiará su vida para siempre." }
    ],
    2: [
        { 
            title: "It's Alive!", videoId: "1rmvE_gI-01yK3dydBtmuzEb5sRueQV6Q", thumbnail: "https://image.tmdb.org/t/p/w300/2jtzefZ7yIcaZoJxcOkuM4YEBHU.jpg", description: "Atormentado por haber matado a su hermano, Dexter encuentra que su 'Pasajero Oscuro' está inactivo. Mientras tanto, el sargento Doakes lo vigila de cerca, y buzos descubren el cementerio submarino de las víctimas de Dexter." },
        { 
            title: "Waiting to Exhale", videoId: "16OQNevX_ipURJkheCIcHbQibvVp2rCoP", thumbnail: "https://image.tmdb.org/t/p/w300/ha7i2p27VVdWY9wN9bkpQvmPmFv.jpg", description: "El FBI, liderado por el agente especial Frank Lundy, llega a Miami para investigar al nuevo asesino en serie apodado 'El Carnicero de la Bahía', que en realidad es Dexter." },
        { 
            title: "An Inconvenient Lie", videoId: "1awY6KLsDfc6MhkK0u2n2MNP_4_WeMQQt", thumbnail: "https://image.tmdb.org/t/p/w300/nhddI1zisRZtGUxJIZwKGFhDqoz.jpg", description: "Rita, la novia de Dexter, sospecha que él tiene un problema de adicción y lo obliga a unirse a un programa de Narcóticos Anónimos, donde conoce a la enigmática Lila." },
        { 
            title: "See-Through", videoId: "1n1b-XSJ2dZdolEOwW6RRz9pw5fyxv0o7", thumbnail: "https://image.tmdb.org/t/p/w300/omBmf4Gxu8HPpnciDs6dUTYAiN3.jpg", description: "Dexter intenta desviar la investigación de Lundy, que se acerca peligrosamente a la verdad. La presencia de Lila en su vida comienza a complicar las cosas con Rita." },
        { 
            title: "The Dark Defender", videoId: "1_Rum2jeFB0_ytCdR7sHEU4byIgd-Lekb", thumbnail: "https://image.tmdb.org/t/p/w300/nEWrXNNIhOCx5AGy7PZonRXjtCN.jpg", description: "Dexter se enfoca en un nuevo objetivo, mientras que Lila se vuelve cada vez más manipuladora y se inserta en la vida de Dexter." },
        { 
            title: "Dex, Lies, and Videotape", videoId: "1fAQ3IDWX1qKgfwuWoJxNhRfx4GzgQ_v7", thumbnail: "https://image.tmdb.org/t/p/w300/tB4fuDRHzQTRlfszvMAoNxgoKz6.jpg", description: "Se publica un manifiesto del supuesto 'Carnicero de la Bahía', creando un frenesí mediático. Dexter se da cuenta de que alguien podría estar intentando imitarlo o exponerlo." },
        { 
            title: "That Night, a Forest Grew", videoId: "116BvKv2Xg8AezcpDLOiWpiqjfm9eHAz2", thumbnail: "https://image.tmdb.org/t/p/w300/nwgxVpwiReDOtnBg0dMA9L4rcI8.jpg", description: "Doakes se convence de que Dexter es el Carnicero de la Bahía y comienza a investigarlo por su cuenta, arriesgando su propia carrera." },
        { 
            title: "Morning Comes", videoId: "1F5EOaIsAhx8HOV-OqQAoklwmTv1LiLTH", thumbnail: "https://image.tmdb.org/t/p/w300/15WfX35RWngveAdYNCsruo12tpa.jpg", description: "La investigación de Lundy se centra en Doakes como posible sospechoso. Dexter se ve atrapado entre la creciente presión del FBI y la obsesión de Doakes." },
        { 
            title: "Resistance Is Futile", videoId: "15R7DT4FtJcEoc21sWIKixom5Ci3wl547", thumbnail: "https://image.tmdb.org/t/p/w300/gL34Xku1eO413hIcqWrnb69yw0r.jpg", description: "Doakes finalmente confronta a Dexter, descubriendo su oscuro secreto. Su enfrentamiento lleva a una situación de vida o muerte." },
        { 
            title: "There's Something About Harry", videoId: "1-ZLN1mjeQ-SWDCtZlpGEm4PwgbEInCfB", thumbnail: "https://image.tmdb.org/t/p/w300/8PMgRRi6NysXyXSypwdaJiomiCM.jpg", description: "Dexter mantiene a Doakes cautivo y descubre la verdad sobre la muerte de su padre adoptivo, Harry. Lila sigue interfiriendo en su vida de maneras destructivas." },
        { 
            title: "Left Turn Ahead", videoId: "1O7t47mTMgAzSoASZyZrTYPwf8oeH_5mD", thumbnail: "https://image.tmdb.org/t/p/w300/echl9nui9uAPgjX8sqU0vfNYmvh.jpg", description: "Con Doakes como su prisionero, Dexter contempla la posibilidad de entregarse para proteger a los que ama. Lila toma medidas extremas para mantener a Dexter a su lado." },
        { 
            title: "The British Invasion", videoId: "17Z3BtSa6LiIhBWq5kKA9IuneOLyfmegd", thumbnail: "https://image.tmdb.org/t/p/w300/4uOSnM1yV7azULevXV29lcCNXAt.jpg", description: "En un final explosivo, Dexter debe lidiar con las consecuencias de las acciones de Lila y tomar una decisión final sobre el destino de Doakes." }
    ],
    3: [
        { 
            title: "Our Father", videoId: "1gfKVgI2s6D1kK9XPDmn2Rj5RH5WiMQON", thumbnail: "https://image.tmdb.org/t/p/w300/97VmyFgGYJECb76lxvbARLU17kk.jpg", description: "Dexter accidentalmente mata al hermano de un poderoso fiscal de distrito, Miguel Prado. Mientras tanto, Rita descubre que está embarazada." },
        { 
            title: "Finding Freebo", videoId: "1cJq1trMD_wvEpS6t_wFkxmQpX8RRq1Uu", thumbnail: "https://image.tmdb.org/t/p/w300/gaKRlCQcuiSRjJwst4HPoUvrGWv.jpg", description: "Tanto Dexter como Miguel Prado buscan al hombre que creen responsable de la muerte del hermano de Miguel, aunque por diferentes razones." },
        { 
            title: "The Lion Sleeps Tonight", videoId: "1kxZLG_FYo5ZO5ufhNCzW5N3OIY1xh1LZ", thumbnail: "https://image.tmdb.org/t/p/w300/a9rXiVNSe5y2hOvq5BtaVkFmgCb.jpg", description: "La amistad entre Dexter y Miguel se fortalece, y Miguel comienza a sospechar del lado oscuro de Dexter. Dexter se enfrenta a la idea de convertirse en padre." },
        { 
            title: "All in the Family", videoId: "1eL3iyjjPCcr-zkB7gYDPsjNchZyrYSiU", thumbnail: "https://image.tmdb.org/t/p/w300/2WszcqVwyn9MU8uSAD9CWR9pXZy.jpg", description: "Dexter y Rita anuncian su embarazo. Miguel le pide a Dexter que lo ayude a 'encargarse' de un criminal que el sistema legal no pudo detener." },
        { 
            title: "Turning Biminese", videoId: "1LRpIIx9xk5KOfW7nqRK0JcrKBysWWzxK", thumbnail: "https://image.tmdb.org/t/p/w300/xzg0wTQNR1IjlqeCLPC8teyJwQ3.jpg", description: "Miguel le presenta a Dexter un nuevo objetivo, y su retorcida amistad da un paso más allá, con Miguel convirtiéndose en una especie de 'aprendiz'." },
        { 
            title: "Sí Se Puede", videoId: "1zgL6YsaUG6f0iOTGIV6xjJUc7NXnB910", thumbnail: "https://image.tmdb.org/t/p/w300/nRxCveqjRzd1L7tMnmlaKKUmxXO.jpg", description: "Dexter intenta enseñarle a Miguel su 'código', pero pronto se da cuenta de que Miguel podría no tener el mismo autocontrol." },
        { 
            title: "Easy as Pie", videoId: "1gztFug-LSO8Jl1ZrkfyUqHc5Zps2DKOj", thumbnail: "https://image.tmdb.org/t/p/w300/bb4eTOgQoiukJWMQ92yoykjqtc6.jpg", description: "La relación entre Dexter y Miguel se vuelve más tensa a medida que Miguel se vuelve más imprudente y hambriento de poder." },
        { 
            title: "The Damage a Man Can Do", videoId: "1-9DshR2awLhM3Yxs_Rq_XuQ6YcuzfWDx", thumbnail: "https://image.tmdb.org/t/p/w300/quhTwhj7QFCHV7FsHVZM4Q9aXRp.jpg", description: "Un nuevo asesino en serie, 'El Despellejador', aterroriza a Miami. Dexter se da cuenta de que la amistad con Miguel se ha vuelto peligrosa y fuera de control." },
        { 
            title: "About Last Night", videoId: "1jJ1M4KNG3CUfUd9LlXVm0PMVvbhCVj9j", thumbnail: "https://image.tmdb.org/t/p/w300/sK9IKd3lxhasGG2kurO89wzDNkr.jpg", description: "Miguel traiciona la confianza de Dexter, lo que lleva a una ruptura inevitable y peligrosa en su amistad." },
        { 
            title: "Go Your Own Way", videoId: "1bS2Qw_s-o2BUuE8S7cfUe5n3AWd7dHq2", thumbnail: "https://image.tmdb.org/t/p/w300/jeEK4lpw0KtnqReqfihnctu5TvD.jpg", description: "Dexter se da cuenta de que debe detener a Miguel, quien se ha convertido en una amenaza para todos los que lo rodean." },
        { 
            title: "I Had a Dream", videoId: "1reXd3aleq6qsjQ4hmmVf110nlCJEFJUM", thumbnail: "https://image.tmdb.org/t/p/w300/AscduWJM3dUtWg3TTPt0nQDA3Om.jpg", description: "La investigación sobre 'El Despellejador' se acerca a Dexter. El enfrentamiento final con Miguel es inminente." },
        { 
            title: "Do You Take Dexter Morgan?", videoId: "1Ygp5PyXnsuZw4xJKlG0GnRNqY3It4b32", thumbnail: "https://image.tmdb.org/t/p/w300/eA7iCZXyED1D7GSiJHwzc2iTj4l.jpg", description: "En el día de su boda con Rita, Dexter debe enfrentarse tanto a Miguel como al Despellejador en un clímax lleno de suspenso." }
    ],
    4: [
        { 
            title: "Living the Dream", videoId: "1FwU7o687AkxSNZfltANU_eH3CjuVRkgU", thumbnail: "https://image.tmdb.org/t/p/w300/4dJnt4To4wrM9QX0cMA7EQ0ZSM3.jpg", description: "Dexter lucha por equilibrar su nueva vida como esposo y padre con su necesidad de matar. Un nuevo y prolífico asesino en serie, conocido como 'Trinity Killer', emerge." },
        { 
            title: "Remains to Be Seen", videoId: "1SNkH5EzawGvesUFbPtOD-D-c8TAMZKzp", thumbnail: "https://image.tmdb.org/t/p/w300/wLVHnCNEcAc4c7OTwxBX4Or567k.jpg", description: "El legendario agente retirado del FBI, Frank Lundy, regresa a Miami para cazar al Trinity Killer, a quien ha perseguido durante décadas." },
        { 
            title: "Blinded by the Light", videoId: "1ii2q5UYK-Uw8qokfCIjhGdgUF0dGGNWI", thumbnail: "https://image.tmdb.org/t/p/w300/fyUv2iXYpKSpWqq8psrV8dT7p5y.jpg", description: "Dexter comienza a acechar al Trinity Killer, cuyo verdadero nombre es Arthur Mitchell, un hombre aparentemente normal de familia." },
        { 
            title: "Dex Takes a Holiday", videoId: "1JAfBfP-Pyzghn5dmJQ-2PWAtZzJj4Bj9", thumbnail: "https://image.tmdb.org/t/p/w300/1pBP6NIWBlbbSppmePj08aAkepS.jpg", description: "Dexter intenta aprender cómo Arthur Mitchell equilibra su vida familiar con sus asesinatos, con la esperanza de encontrar una manera de hacer lo mismo." },
        { 
            title: "Dirty Harry", videoId: "1PrcbqV3grJmHa2PRjwGSFYa4daYGrsvp", thumbnail: "https://image.tmdb.org/t/p/w300/kmkkP8AtKIN9Knsdq4Ct9j1nTxo.jpg", description: "La investigación de Dexter sobre Trinity revela un ciclo de asesinatos rituales que se ha repetido durante 30 años en todo el país." },
        { 
            title: "If I Had a Hammer", videoId: "1s7Dp1FEVCbsA8ualr5uN_Iq9Zd3LZS6Z", thumbnail: "https://image.tmdb.org/t/p/w300/o7QS9elByQgYGRAimw2TI8vdKP3.jpg", description: "Dexter se infiltra en la vida de Arthur Mitchell bajo un alias, descubriendo la fachada de un hombre de familia devoto que oculta a un monstruo." },
        { 
            title: "Slack Tide", videoId: "1kFxu9HIn53GMsKG7WAsLVJ4jfjehimhj", thumbnail: "https://image.tmdb.org/t/p/w300/cCUipEG71f7dVwCb6vnpPrx8fge.jpg", description: "La relación de Dexter con Arthur se vuelve más complicada, y Dexter comienza a cuestionar si puede aprender algo del monstruo al que persigue." },
        { 
            title: "Road Kill", videoId: "1cN5hK2PJZG7RDQOBQzezVzhQZJ1_iyNx", thumbnail: "https://image.tmdb.org/t/p/w300/9B2ykyALH7ZaUMGQQlYbvYc8pw9.jpg", description: "Dexter acompaña a Arthur en un viaje fuera de la ciudad, obteniendo una visión más profunda y perturbadora de su psique." },
        { 
            title: "Hungry Man", videoId: "1XbitLqulBj7kjrj7iASariFF9b_dxXQW", thumbnail: "https://image.tmdb.org/t/p/w300/c0MAgpJXH5TkNxShkPjDHz5WXf9.jpg", description: "Dexter comparte el Día de Acción de Gracias con la familia de Arthur y es testigo de primera mano del abuso y el terror que les inflige." },
        { 
            title: "Lost Boys", videoId: "1dfhhhI7vMFvLrq2af0R-qVFlo9SfhPQh", thumbnail: "https://image.tmdb.org/t/p/w300/8zYOWNOB76BeTgsZYEhyjDCDLFS.jpg", description: "Dexter descubre la verdad detrás del ciclo de asesinatos de Trinity y se da cuenta de que es mucho más oscuro de lo que imaginaba." },
        { 
            title: "Hello, Dexter Morgan", videoId: "16r3D85u_w3cIVh6EKtsSN8g9DY5HACy1", thumbnail: "https://image.tmdb.org/t/p/w300/wDLYbem5WVkncXCOmmzTMPa1o8A.jpg", description: "La policía de Miami se acerca a Arthur Mitchell, lo que obliga a Dexter a acelerar su propio plan para eliminarlo." },
        { 
            title: "The Getaway", videoId: "1fx5luCJ9UmcKtqqNP4CEGTd7bLKoshHv", thumbnail: "https://image.tmdb.org/t/p/w300/4ikoyXM8YIwLJFkiZdmwsx7yGc5.jpg", description: "Dexter finalmente se enfrenta a Arthur en un enfrentamiento final, pero regresa a casa para descubrir que Trinity ha dejado una última y devastadora sorpresa." }
    ],
    5: [
        { 
            title: "My Bad", videoId: "1jhVj93li4cx0FAis0hdj2qltLTOXlVhF", thumbnail: "https://image.tmdb.org/t/p/w300/lNMSOuA1LTp71hSFsb25G6w9Gxq.jpg", description: "Lidiando con las secuelas de la muerte de Rita, Dexter se siente responsable y lucha con su dolor y su culpa, mientras intenta ser un padre soltero para sus tres hijos." },
        { 
            title: "Hello, Bandit", videoId: "1r6OveGoDEYzOlRbRgEtFqAEt0SYMd08Y", thumbnail: "https://image.tmdb.org/t/p/w300/yqTBpVchb5WndUMXkbRlYKpSg1A.jpg", description: "Dexter intenta volver a su rutina, pero el trauma lo ha afectado profundamente. Mientras tanto, Quinn comienza a sospechar de Dexter en relación con la muerte de Rita." },
        { 
            itle: "Practically Perfect", videoId: "1hR6Dwo6jtVLEdebdgssrgMtYRcp6NHuA", thumbnail: "https://image.tmdb.org/t/p/w300/p1lle5gWz29k8YF9Prj96C2UFDP.jpg", description: "Dexter contrata a una niñera para Harrison. Impulsivamente, comete un asesinato y es presenciado por una misteriosa mujer llamada Lumen." },
        { 
            title: "Beauty and the Beast", videoId: "19nuqojXIkgh1jl3cjHPjiMoR_4Sn23bd", thumbnail: "https://image.tmdb.org/t/p/w300/82SPJjIJP7xvViWD0xOgDLezdOs.jpg", description: "Dexter mantiene a Lumen cautiva mientras decide qué hacer con ella. Ella le revela que fue víctima de una red de abuso y tortura." },
        { 
            title: "First Blood", videoId: "194zx9D1cE8RZUQdaM1dej3yDtYdD5aCd", thumbnail: "https://image.tmdb.org/t/p/w300/eR3jzZ6WKD09ocsxq5fRGHuGqMX.jpg", description: "Dexter decide ayudar a Lumen a vengarse de los hombres que la lastimaron, encontrando en ella una compañera inesperada." },
        { 
            title: "Everything Is Illumenated", videoId: "1_V6djuinywABYG9sCjTpncIY4lDc3WgC", thumbnail: "https://image.tmdb.org/t/p/w300/kpa3E6ynZdFORmEJzvjzMnEukOM.jpg", description: "Dexter y Lumen comienzan a cazar a los miembros del grupo que la torturó. Su vínculo se profundiza a medida que comparten su oscuridad." },
        { 
            title: "Circle Us", videoId: "1mrN_T70sBDbRO7JvC6o547tfeBo5XFMR", thumbnail: "https://image.tmdb.org/t/p/w300/yWmgJkvzS1zx7YhqCfgVf1r1Ovq.jpg", description: "A medida que se acercan a su objetivo principal, el carismático líder del grupo, Jordan Chase, la investigación de la policía también se intensifica." },
        { 
            title: "Take It!", videoId: "1w4WlLfFixrR0WesXuu87j3hDeiXoixB-", thumbnail: "https://image.tmdb.org/t/p/w300/sxQcDzAseVJkiUXqIXfWaTiRYYw.jpg", description: "La relación entre Dexter y Lumen se vuelve más íntima. Quinn se acerca a la verdad sobre el pasado de Dexter." },
        { 
            title: "Teenage Wasteland", videoId: "1DbaTuFlVKRSbc1qq_d8gMXzfwrlX216X", thumbnail: "https://image.tmdb.org/t/p/w300/eoxBiNdnAxI1mTcIdHXcn6jSoN0.jpg", description: "Debra se acerca a resolver el caso de las 'chicas del barril', sin saber que está directamente relacionado con la misión de venganza de Dexter y Lumen." },
        { 
            title: "In the Beginning", videoId: "1JMBl8v0cYTTkbgJPgUzUrH4TS4ZC2bB1", thumbnail: "https://image.tmdb.org/t/p/w300/s9xVM0xayQbGaGD6ttARrSVsySm.jpg", description: "Dexter y Lumen se dan cuenta de que Jordan Chase sabe que lo están cazando, lo que lleva a un peligroso juego del gato y el ratón." },
        { 
            title: "Hop a Freighter", videoId: "153QmwcdbdUssKN7U9n5A3owiDuJqKAal", thumbnail: "https://image.tmdb.org/t/p/w300/xJw2WiS3uHpMaFmwv90oY7Mq6qC.jpg", description: "Lumen es secuestrada por Jordan Chase, y Dexter debe correr para salvarla antes de que sea demasiado tarde." },
        { 
            title: "The Big One", videoId: "1VguTWr4Tb2XXGnq6_DKPcCcsVgRnmiOM", thumbnail: "https://image.tmdb.org/t/p/w300/fbAGakIEtwPpqi573MsseIDXE9s.jpg", description: "Dexter se enfrenta a Jordan Chase en un enfrentamiento final. Después de su venganza, Lumen se da cuenta de que su oscuridad ha desaparecido y debe seguir adelante, dejando a Dexter solo una vez más." }
    ],
    6: [
        { 
            title: "Those Kinds of Things", videoId: "1cq96JT3j9DOOBO-RRZVQRzYUZCPytGpp", thumbnail: "https://image.tmdb.org/t/p/w300/3J0Swm0EUVur5vL8NddP2iYlZRS.jpg", description: "Un año después, Dexter se ha adaptado a su vida como padre soltero. Se enfrenta a un nuevo tipo de asesino, 'El Asesino del Juicio Final', que comete crímenes basados en profecías bíblicas." },
        { 
            title: "Once Upon a Time...", videoId: "1GWN7xda2SwjwYSxWRo7M_UtdJFeOW3PG", thumbnail: "https://image.tmdb.org/t/p/w300/5jm0bu5yAOEDpUuwGYmyvEeaO0.jpg", description: "La investigación lleva a la policía de Miami al Profesor Gellar, un experto en estudios religiosos que ha desaparecido. Dexter se cuestiona la fe y la religión." },
        { 
            title: "Smokey and the Bandit", videoId: "1g36uOxKs9MooOfmD74Hj1wMoYgY8f2Dp", thumbnail: "https://image.tmdb.org/t/p/w300/zEYmKykAr8cjTuzvNJS7O8Qzb1u.jpg", description: "Dexter intenta encontrar un equilibrio entre su vida personal y la caza del Asesino del Juicio Final. Debra es ascendida a teniente, para su sorpresa y la de LaGuerta." },
        { 
            title: "A Horse of a Different Color", videoId: "1PhfbSvGAFVg31cX5LybhU_nzdyEGqXQR", thumbnail: "https://image.tmdb.org/t/p/w300/s4RtEYi17L5Q1ltZo2GJVhtniKZ.jpg", description: "Dexter investiga a Travis Marshall, el antiguo protegido del Profesor Gellar, creyendo que es la clave para encontrar al asesino." },
        { 
            title: "The Angel of Death", videoId: "1AUjok9WdxuoJzlmDoDCO-1bX2iCC4TO9", thumbnail: "https://image.tmdb.org/t/p/w300/nqEs9ZNXzwDpTJyGqQ4DLEERuUT.jpg", description: "Dexter se acerca a Travis, quien parece estar luchando con la influencia de Gellar." },
        { 
            title: "Just Let Go", videoId: "1BDtyLzg7Y2zPWAeNp0U1s7Bdwxr1B7r7", thumbnail: "https://image.tmdb.org/t/p/w300/xkagSIG0cWXfzwI1QO1B4d8YrLy.jpg", description: "Dexter intenta convencer a Travis de que se aleje de Gellar, mientras que los asesinatos del Juicio Final se vuelven más elaborados y públicos." },
        {  
            title: "Nebraska", videoId: "1I9eAlU17igqSfcLfe7n1G2Oz9FupdOAk", thumbnail: "https://image.tmdb.org/t/p/w300/1QSX0cANrmBaSh33vW5BElbfuE2.jpg", description: "Dexter se entera de que el Trinity Killer podría tener un hijo que ha seguido sus pasos, lo que lo lleva a un viaje por carretera a Nebraska." },
        { 
            title: "Sin of Omission", videoId: "1dS76tL0e_I0GHjprNasKMyDiCkapuhdn", thumbnail: "https://image.tmdb.org/t/p/w300/bqNoJcR57Of84oXnrUO9ljzjnpJ.jpg", description: "Debra comienza a ir a terapia y se da cuenta de que puede tener sentimientos románticos por Dexter." },
        { 
            title: "Get Gellar", videoId: "1UQ5jyKveI748hyeKmFO1zNP6F7K4o_Pc", thumbnail: "https://image.tmdb.org/t/p/w300/6PwAsx7Lkn8qngruabjK0zl9Wlr.jpg", description: "Dexter descubre la impactante verdad sobre el Profesor Gellar y Travis Marshall." },
        { 
            title: "Ricochet Rabbit", videoId: "1FrSfILnOmiTPJxpy0n5rN5GjNcaQ_cIM", thumbnail: "https://image.tmdb.org/t/p/w300/vMNxVlrjnNDvdangm2w3ZS8o8NM.jpg", description: "Ahora que conoce la verdad, Dexter intenta anticipar el próximo movimiento de Travis, que se vuelve cada vez más peligroso y delirante." },
        { 
            title: "Talk to the Hand", videoId: "1Fv1X5yM4jqI5ysLvsOhW5Pnq0XVP2m5Z", thumbnail: "https://image.tmdb.org/t/p/w300/cTvPiVOaxZ6IQFOUZr0elDHqpW8.jpg", description: "Travis secuestra al hijo de Dexter, Harrison, como parte de su plan final." },
        { 
            title: "This is the Way the World Ends", videoId: "1E5Jo0DRZz4mSXK_pJ2wWtVroBLD7eQyC", thumbnail: "https://image.tmdb.org/t/p/w300/j2L0qniodfmIV3KcT0Wnll5yMII.jpg", description: "Dexter rescata a Harrison y se enfrenta a Travis en una iglesia abandonada. En el momento culminante, Debra entra y es testigo de Dexter matando a Travis." }
    ],
    7: [
        { 
            title: "Are You...?", videoId: "1sEOsMpH4FPGB5tfoDFTJM1QYzs3SCYXv", thumbnail: "https://image.tmdb.org/t/p/w300/6I9tGOb5dLVBOBPEv39ipwtYwNs.jpg", description: "Debra se enfrenta a la impactante revelación de que su hermano es un asesino en serie. Lucha por reconciliar al hombre que ama con el monstruo que ha descubierto." },
        { 
            title: "Sunshine and Frosty Swirl", videoId: "16-eP1MdRNc7VGXEUHTOVr4qi27C-exgS", thumbnail: "https://image.tmdb.org/t/p/w300/jduaZpGaX9px1truLCy7FJrHdob.jpg", description: "Debra decide ayudar a Dexter a encubrir el asesinato de Travis Marshall. LaGuerta reabre el caso del Carnicero de la Bahía, convencida de que Doakes era inocente." },
        { 
            title: "Buck the System", videoId: "12WD7VYbIHPee_uIEW7IOeVzKKDbbz274", thumbnail: "https://i.imgur.com/NHdGnOx.jpeg", description: "Dexter se encuentra con Hannah McKay, una mujer con un pasado oscuro que podría ser tan peligrosa como él. La mafia ucraniana llega a Miami buscando venganza por la muerte de uno de los suyos a manos de Dexter." },
        { 
            title: "Run", videoId: "1Yk775Lkm-4fAOvfA2wgcgJ7lWA-zjN5l", thumbnail: "https://image.tmdb.org/t/p/w300/zB3LE61qzBC1e7WhZ5E0MJcDZxY.jpg", description: "La relación entre Dexter y Debra se vuelve cada vez más tensa a medida que ella intenta 'curarlo' de su necesidad de matar." },
        { 
            title: "Swim Deep", videoId: "1t5oUKx3OhO7VcVkaPiRfRd5HUnNQI4Sc", thumbnail: "https://image.tmdb.org/t/p/w300/bInn82KQiRP8toc30EQyexzuKm0.jpg", description: "Dexter comienza una relación romántica con Hannah, a pesar de saber que es una asesina." },
        { 
            title: "Do the Wrong Thing", videoId: "1Zuh1jjNd2cSeklXGVCl6FIimlbtLQ7-P", thumbnail: "https://image.tmdb.org/t/p/w300/rzPaHebEgx3tRIRdB2ZnhuAfivR.jpg", description: "Debra le pide a Dexter que mate a Hannah, poniendo a prueba su lealtad. LaGuerta encuentra pruebas que la acercan a la verdad sobre Dexter." },
        { 
            title: "Chemistry", videoId: "1Pt3ORFHanussZIO-Mhr3c1wyArisHA9U", thumbnail: "https://i.imgur.com/HEbYZoK.jpeg", description: "La relación de Dexter con Hannah se intensifica, lo que complica aún más su ya tensa relación con Debra." },
        { 
            title: "Argentina", videoId: "1NkHIrwHKnpgg7269HUHXdVFXzipPg4rD", thumbnail: "https://image.tmdb.org/t/p/w300/94fPHDTzIa6nNZ3ZMfFVad4TZKS.jpg", description: "Debra intenta exponer a Hannah como una asesina. La investigación de LaGuerta sobre el Carnicero de la Bahía la lleva a sospechar de Dexter." },
        { 
            title: "Helter Skelter", videoId: "19NzqKTQLrui2A9OxqcL0FLSI7rh7oKXj", thumbnail: "https://image.tmdb.org/t/p/w300/y79hTt1bhkYFQcjkXXiQmbPSioN.jpg", description: "El líder de la mafia ucraniana, Isaak Sirko, secuestra a Hannah para obligar a Dexter a ayudarlo." },
        { 
            title: "The Dark... Whatever", videoId: "1DxX6jaYqJWsX1dD4nH9ZXZJ9nVnX9h-6", thumbnail: "https://image.tmdb.org/t/p/w300/xKol1I04dpSJRn5CajDGES2GpSl.jpg", description: "Dexter y Debra se ven obligados a trabajar juntos para salvar a Hannah. LaGuerta está a punto de exponer a Dexter." },
        { 
            title: "Do You See What I See?", videoId: "1eyYEPCML-RrJ9yzY-4BSVYmjgmLL6vtg", thumbnail: "https://image.tmdb.org/t/p/w300/qKxIRwbaKsxNyGSOmTecBWXdKVt.jpg", description: "Hannah es arrestada gracias a Debra. LaGuerta arresta a Dexter por los asesinatos del Carnicero de la Bahía." },
        { 
            title: "Surprise, Motherfucker!", videoId: "17Zc3marIk2Te8K0-C5l4cBOnbiaf_BR8", thumbnail: "https://image.tmdb.org/t/p/w300/Arx36RnxTeUZT1lRhdHviLXOhll.jpg", description: "Dexter es liberado, pero LaGuerta no se rinde. En un enfrentamiento final, Debra se ve obligada a tomar una decisión imposible entre su hermano y la ley." }
    ],
    8: [
        { 
            title: "A Beautiful Day", videoId: "18cy9n11wtfnXezg3lYo5NaRU4LDBRaIu", thumbnail: "https://image.tmdb.org/t/p/w300/sMIbqOhRemiQnAZS03uZEAsMKwE.jpg", description: "Seis meses después de la muerte de LaGuerta, Debra ha dejado la policía y se ha distanciado de Dexter, consumida por la culpa. Dexter conoce a la Dra. Evelyn Vogel, una neuropsiquiatra que parece saberlo todo sobre él." },
        { 
            title: "Every Silver Lining...", videoId: "10teY_5WzfkM02K-vRFDpzzZ0-A_MMYps", thumbnail: "https://image.tmdb.org/t/p/w300/zlwGYHQLOtyrcuQNFA826uHDsjb.jpg", description: "La Dra. Vogel revela que ayudó a Harry a crear el 'Código' de Dexter. Un nuevo asesino en serie, 'El Neurocirujano', está aterrorizando a Miami." },
        {   
            title: "What's Eating Dexter Morgan?", videoId: "1BG1IPmcG7OLBjAdKI4IcyXZF2jlkLXsN", thumbnail: "https://image.tmdb.org/t/p/w300/tDR2GuKsD51sCG4NsRugIxF40IG.jpg", description: "Dexter y Debra intentan reconectarse, pero el abismo entre ellos es profundo. La Dra. Vogel le pide a Dexter que la ayude a atrapar al Neurocirujano." },
        { 
            title: "Scar Tissue", videoId: "1V_SKvFELlC7uVBQwy7oDvOhDVLvw1NQN", thumbnail: "https://image.tmdb.org/t/p/w300/vUhpyOERYLVC49P450zmDeGWMtx.jpg", description: "Dexter comienza a enseñarle el Código a un joven psicópata llamado Zach Hamilton, con la esperanza de poder guiarlo como Harry lo guió a él." },
        { 
            title: "This Little Piggy", videoId: "1OBXwOEFh-WHJlv6dPOAQyHH1jdTqi77W", thumbnail: "https://image.tmdb.org/t/p/w300/1R1HZZRbw5giGm9YCJhnYngheQ2.jpg", description: "La relación entre Dexter y Debra sigue siendo inestable. La investigación sobre el Neurocirujano continúa." },
        { 
            title: "A Little Reflection", videoId: "1vofdaY_HmcAwZlE8JjmuT7YZ88bJNL_l", thumbnail: "https://image.tmdb.org/t/p/w300/enjTk2EdDnLfbN23qL74WDIQ9Fs.jpg", description: "Dexter intenta equilibrar su vida personal con la caza del Neurocirujano y la tutoría de Zach." },
        { 
            title: "Dress Code", videoId: "1wfarGIVQcwUsEdyeY-pS923VCrC2todW", thumbnail: "https://image.tmdb.org/t/p/w300/5q68Iy9MB0l1osSi404MePZ1xEx.jpg", description: "Hannah McKay regresa a Miami, poniendo en peligro la ya frágil estabilidad de Dexter." },
        { 
            title: "Are We There Yet?", videoId: "1svgfmqlDr1-8buoGkFTKKg9kFpBoK2sd", thumbnail: "https://image.tmdb.org/t/p/w300/zzJy8KWJqQPhjMA3uG2h8SbjO81.jpg", description: "Dexter y Hannah reavivan su relación y planean huir a Argentina con Harrison." },
        { 
            title: "Make Your Own Kind of Music", videoId: "1WcfW1HeXFU4jruAiwABr2Rfnyjdb2eBO", thumbnail: "https://image.tmdb.org/t/p/w300/9yRjrK62A8nyzJCNICt19k4LKXL.jpg", description: "El Neurocirujano es revelado como uno de los antiguos pacientes de la Dra. Vogel." },
        { 
            title: "Goodbye Miami", videoId: "18vqme-WK09MWIybS1-qY_7iR06HV5OvG", thumbnail: "https://image.tmdb.org/t/p/w300/7rtNUEydPUGyoUu4AM2hpJW3S5W.jpg", description: "Dexter intenta atar todos los cabos sueltos antes de irse de Miami, pero se ve arrastrado de nuevo a la investigación del Neurocirujano." },
        { 
            title: "Monkey in a Box", videoId: "1PVECGe_ejzAYWeQrUsunn2bdybaE1_PE", thumbnail: "https://image.tmdb.org/t/p/w300/3MefgmO0eYWlXUFSic7Dn45UUur.jpg", description: "El Neurocirujano, también conocido como Oliver Saxon, ataca a Debra, dejándola en estado crítico." },
        { 
            title: "Remember the Monsters?", videoId: "1m1xipz58jpIDDnx5NJZqCw7KNhjZx38O", thumbnail: "https://image.tmdb.org/t/p/w300/eej5sOpA2A73O6SudZxFsw2oB5n.jpg", description: "Con un huracán acercándose a Miami, Dexter se enfrenta a Saxon en un enfrentamiento final. Toma una decisión devastadora que lo obliga a exiliarse y abandonar a su hijo, enfrentando una tormenta tanto literal como figurativa." }
    ]
};

    // ===========================================================
    // FUNCIONES GENERALES Y MODALES
    // ===========================================================

    function openCinema(fileId) {
        const cinema = document.getElementById('cinema');
        document.getElementById('video-frame').src = `https://drive.google.com/file/d/${fileId}/preview`;
        cinema.classList.add('show');
    }

    function closeCinema() {
        clearInterval(countdownInterval);
        const cinema = document.getElementById('cinema');
        document.getElementById('video-frame').src = '';
        cinema.classList.remove('show');
        
        // Restaurar vista del reproductor vs contador
        const releaseBox = document.getElementById('release-box');
        const screen = cinema.querySelector('.screen');
        if(releaseBox) releaseBox.style.display = 'none';
        if(screen) screen.style.display = 'block';
    }
    
    function showCountdown(releaseDateString, episodeTitle) {
        const cinemaModal = document.getElementById('cinema');
        const releaseBox = document.getElementById('release-box');
        const screen = cinemaModal.querySelector('.screen');
    
        screen.style.display = 'none';
        releaseBox.style.display = 'block';
        cinemaModal.classList.add('show');

        const targetDate = new Date(`${releaseDateString}T21:00:00-04:00`);

        clearInterval(countdownInterval);

        function updateCountdown() {
            const now = new Date();
            const diff = targetDate - now;

            if (diff <= 0) {
                clearInterval(countdownInterval);
                releaseBox.innerHTML = `<span class="countdown-title">¡YA DISPONIBLE!</span>`;
                return;
            }

            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);

            releaseBox.innerHTML = `
                <span class="countdown-title">Estreno del ${episodeTitle} en:</span>
                <div class="countdown-timer">
                    ${d}d ${h}h ${m}m ${s}s
                </div>
            `;
        }

        updateCountdown();
        countdownInterval = setInterval(updateCountdown, 1000);
    }

    function chooseLanguageModal(esId, enId, targetIframeId) {
        const modal = document.getElementById('languageModal');
        modal.selectedFile = { 
            es: esId, 
            en: enId || esId, 
            target: targetIframeId 
        };
        modal.classList.add('show');
    }

    function closeLanguageModal() {
        document.getElementById('languageModal').classList.remove('show');
    }

    function loadSelectedVideo(lang) {
        const modal = document.getElementById('languageModal');
        if (!modal.selectedFile) return;

        const { es, en, target } = modal.selectedFile;
        const videoId = (lang === 'es') ? es : en;
        const iframe = document.getElementById(target);
        
        if (iframe) {
            iframe.src = `https://drive.google.com/file/d/${videoId}/preview`;
        }
        closeLanguageModal();
    }

    // ===========================================================
    // LÓGICA DE DEXTER
    // ===========================================================
    function openDexter() {
        document.getElementById('cinemaDexter').classList.add('show');
        populateDexterSeasonDropdown();
        populateDexterEpisodeList(playerState.dexter.season);
        openDexterEpisode(playerState.dexter.season, playerState.dexter.episodeIndex);
    }

    function closeCinemaDexter() {
        document.getElementById('video-frame-dexter').src = '';
        document.getElementById('cinemaDexter').classList.remove('show');
    }

    function populateDexterSeasonDropdown() {
        const selector = document.getElementById('season-selector');
        selector.innerHTML = '';
        Object.keys(dexterData).forEach(seasonNum => {
            const option = document.createElement('option');
            option.value = seasonNum;
            option.textContent = `Temporada ${seasonNum}`;
            selector.appendChild(option);
        });
        selector.value = playerState.dexter.season;
        selector.onchange = (event) => {
            const newSeason = parseInt(event.target.value);
            playerState.dexter.season = newSeason;
            playerState.dexter.episodeIndex = 0;
            populateDexterEpisodeList(newSeason);
            openDexterEpisode(newSeason, 0);
        };
    }

    function populateDexterEpisodeList(seasonNum) {
        const container = document.getElementById('episode-list-container');
        container.innerHTML = '';
        if (!dexterData[seasonNum]) return;

        dexterData[seasonNum].forEach((episode, index) => {
            const card = document.createElement('div');
            card.className = 'episode-card';
            card.id = `dexter-episode-${seasonNum}-${index}`;
            card.onclick = () => openDexterEpisode(seasonNum, index);
            
            card.innerHTML = `
                <img src="${episode.thumbnail}" alt="${episode.title}" class="episode-card-thumb" loading="lazy">
                <div class="episode-card-info">
                    <h3>${index + 1}. ${episode.title}</h3>
                    <p id="desc-dx-${seasonNum}-${index}">${episode.description}</p>
                    <a class="toggle-desc" onclick="toggleDescription(event, 'desc-dx-${seasonNum}-${index}')">Más</a>
                </div>`;
            container.appendChild(card);
        });
    }

    function openDexterEpisode(season, episodeIndex) {
        playerState.dexter.season = season;
        playerState.dexter.episodeIndex = episodeIndex;

        const episode = dexterData[season]?.[episodeIndex];
        if (!episode) return;
        
        document.getElementById('video-frame-dexter').src = `https://drive.google.com/file/d/${episode.videoId}/preview`;
        document.getElementById('dexterCinemaTitle').textContent = `T${season}E${episodeIndex + 1} - ${episode.title}`;

        document.querySelectorAll('#dexter-sidebar .episode-card.active').forEach(c => c.classList.remove('active'));
        const activeCard = document.getElementById(`dexter-episode-${season}-${episodeIndex}`);
        if (activeCard) {
            activeCard.classList.add('active');
            activeCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        updateDexterNavButtons();
    }

    function updateDexterNavButtons() {
        const { season, episodeIndex } = playerState.dexter;
        const totalEpisodes = dexterData[season].length;
        document.getElementById('dexterPrevBtn').disabled = (season === 1 && episodeIndex === 0);
        document.getElementById('dexterNextBtn').disabled = (Object.keys(dexterData).length === season && episodeIndex === totalEpisodes - 1);
        document.getElementById('dexterEpisodeCounter').textContent = `${episodeIndex + 1} / ${totalEpisodes}`;
    }

    function previousDexterEpisode() {
        let { season, episodeIndex } = playerState.dexter;
        if (episodeIndex > 0) {
            episodeIndex--;
        } else if (season > 1) {
            season--;
            episodeIndex = dexterData[season].length - 1;
            populateDexterEpisodeList(season);
            document.getElementById('season-selector').value = season;
        }
        openDexterEpisode(season, episodeIndex);
    }

    function nextDexterEpisode() {
        let { season, episodeIndex } = playerState.dexter;
        const totalEpisodes = dexterData[season].length;
        if (episodeIndex < totalEpisodes - 1) {
            episodeIndex++;
        } else if (season < Object.keys(dexterData).length) {
            season++;
            episodeIndex = 0;
            populateDexterEpisodeList(season);
            document.getElementById('season-selector').value = season;
        }
        openDexterEpisode(season, episodeIndex);
    }

    // ===========================================================
    // LÓGICA DE PEACEMAKER
    // ===========================================================

    function openPeacemakerCinema() {
        document.getElementById('cinemaPeacemaker').classList.add('show');
        populatePeacemakerSeasonDropdown();
        populatePeacemakerEpisodeList(playerState.peacemaker.season);
        openPeacemakerEpisode(playerState.peacemaker.season, playerState.peacemaker.episodeIndex);
    }

    function closePeacemakerCinema() {
        clearInterval(countdownInterval);
        document.getElementById('video-frame-peacemaker').src = '';
        document.getElementById('cinemaPeacemaker').classList.remove('show');
        document.getElementById('peacemaker-language-select').classList.remove('show');
    }

    function populatePeacemakerSeasonDropdown() {
        const selector = document.getElementById('peacemaker-season-selector');
        selector.innerHTML = '';
        Object.keys(peacemakerData).forEach(seasonName => {
            const option = document.createElement('option');
            option.value = seasonName;
            option.textContent = seasonName;
            selector.appendChild(option);
        });
        selector.value = playerState.peacemaker.season;
        selector.onchange = (event) => {
            const newSeason = event.target.value;
            playerState.peacemaker.season = newSeason;
            playerState.peacemaker.episodeIndex = 0;
            populatePeacemakerEpisodeList(newSeason);
            openPeacemakerEpisode(newSeason, 0);
        };
    }
    
    function populatePeacemakerEpisodeList(seasonName) {
        const container = document.getElementById('peacemaker-episode-list-container');
        container.innerHTML = '';
        if (!peacemakerData[seasonName]) return;

        const hoy = new Date();
        hoy.setHours(0, 0, 0, 0);

        peacemakerData[seasonName].forEach((episode, index) => {
            const card = document.createElement('div');
            const episodeDate = episode.releaseDate ? new Date(episode.releaseDate + 'T00:00:00') : null;
            const isAvailable = !episodeDate || episodeDate <= hoy;

            card.className = 'episode-card';
            card.id = `peacemaker-episode-${index}`;

            if (isAvailable) {
                card.onclick = () => openPeacemakerEpisode(seasonName, index);
            } else {
                card.className += ' unavailable';
                card.onclick = () => showPeacemakerCountdown(episode.releaseDate, `Episodio ${index + 1}`);
            }

            const thumbnailHTML = isAvailable ?
                `<img src="${episode.thumbnail}" alt="${episode.title}" class="episode-card-thumb" loading="lazy">`
                :
                `<div class="thumbnail-placeholder">
                    <span class="release-day">${formatDate(episodeDate, 'day')}</span>
                    <span class="release-month">${formatDate(episodeDate, 'month')}</span>
                </div>`;

            card.innerHTML = `
                ${thumbnailHTML}
                <div class="episode-card-info">
                    <h3>${index + 1}. ${episode.title}</h3>
                    <p id="desc-pm-${index}">${episode.description}</p>
                    <a class="toggle-desc" onclick="toggleDescription(event, 'desc-pm-${index}')">Más</a>
                </div>`;
                
            container.appendChild(card);
        });
    }

    function formatDate(date, part) {
        if (!date) return '';
        if (part === 'day') {
            return new Intl.DateTimeFormat('es-ES', { day: 'numeric' }).format(date);
        }
        if (part === 'month') {
            return new Intl.DateTimeFormat('es-ES', { month: 'long' }).format(date).toUpperCase();
        }
        return '';
    }
    
    function toggleDescription(event, pId) {
        event.stopPropagation();
        const p = document.getElementById(pId);
        const link = event.target;
        p.classList.toggle('expanded');
        link.textContent = p.classList.contains('expanded') ? 'Menos' : 'Más';
    }

    function showPeacemakerCountdown(releaseDateString, episodeTitle) {
        const countdownBox = document.getElementById('peacemaker-countdown-box');
        const screen = document.querySelector('#cinemaPeacemaker .screen');
        
        screen.style.display = 'none';
        document.getElementById('video-frame-peacemaker').src = '';
        
        countdownBox.style.display = 'flex';
        
        document.getElementById('peacemakerCinemaTitle').textContent = `Próximo Estreno: ${episodeTitle}`;

        const targetDate = new Date(`${releaseDateString}T21:00:00-04:00`);
        clearInterval(countdownInterval);

        function updateCountdown() {
            const now = new Date();
            const diff = targetDate - now;

            if (diff <= 0) {
                clearInterval(countdownInterval);
                countdownBox.innerHTML = `<div class="countdown-title">¡YA DISPONIBLE!</div>`;
                return;
            }

            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((diff % (1000 * 60)) / 1000);

            countdownBox.innerHTML = `
                <span class="countdown-title">Estreno en:</span>
                <div class="countdown-timer">${d}d ${h}h ${m}m ${s}s</div>
            `;
        }

        updateCountdown();
        countdownInterval = setInterval(updateCountdown, 1000);
    }

    function openPeacemakerEpisode(seasonName, episodeIndex) {
        document.getElementById('peacemaker-countdown-box').style.display = 'none';
        document.querySelector('#cinemaPeacemaker .screen').style.display = 'block';
        
        clearInterval(countdownInterval);

        playerState.peacemaker.season = seasonName;
        playerState.peacemaker.episodeIndex = episodeIndex;

        const episode = peacemakerData[seasonName]?.[episodeIndex];
        if (!episode) return;
        
        document.getElementById('peacemakerCinemaTitle').textContent = `T${seasonName.replace('Temporada ', '')}E${episodeIndex + 1} - ${episode.title}`;
        setupPeacemakerLanguageButtons(episode);
        
        loadPeacemakerVideo(episode.videoId_es, 'es');

        document.querySelectorAll('#peacemaker-sidebar .episode-card.active').forEach(c => c.classList.remove('active'));
        const activeCard = document.getElementById(`peacemaker-episode-${episodeIndex}`);
        if (activeCard) {
            activeCard.classList.add('active');
            activeCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        updatePeacemakerNavButtons();
    }

    function setupPeacemakerLanguageButtons(episode) {
        const langSelect = document.getElementById('peacemaker-language-select');
        langSelect.classList.add('show');
        
        const btnEs = document.getElementById('pm-lang-es');
        const btnEn = document.getElementById('pm-lang-en');

        btnEs.onclick = () => loadPeacemakerVideo(episode.videoId_es, 'es');
        btnEn.onclick = () => loadPeacemakerVideo(episode.videoId_en, 'en');
    }

    function loadPeacemakerVideo(videoId, lang) {
        const iframe = document.getElementById('video-frame-peacemaker');
        iframe.src = `https://drive.google.com/file/d/${videoId}/preview`;
        updateActiveLangButton(lang);
    }

    function updateActiveLangButton(lang) {
        const btnEs = document.getElementById('pm-lang-es');
        const btnEn = document.getElementById('pm-lang-en');
        
        btnEs.classList.remove('active');
        btnEn.classList.remove('active');

        if (lang === 'es') {
            btnEs.classList.add('active');
        } else if (lang === 'en') {
            btnEn.classList.add('active');
        }
    }

    function updatePeacemakerNavButtons() {
        const { season, episodeIndex } = playerState.peacemaker;
        const totalEpisodes = peacemakerData[season].length;
        document.getElementById('peacemakerPrevBtn').disabled = (episodeIndex === 0);
        document.getElementById('peacemakerNextBtn').disabled = (episodeIndex === totalEpisodes - 1);
        document.getElementById('peacemakerEpisodeCounter').textContent = `${episodeIndex + 1} / ${totalEpisodes}`;
    }

    function previousPeacemakerEpisode() {
        let { season, episodeIndex } = playerState.peacemaker;
        if (episodeIndex > 0) {
            episodeIndex--;
            openPeacemakerEpisode(season, episodeIndex);
        }
    }

    function nextPeacemakerEpisode() {
        let { season, episodeIndex } = playerState.peacemaker;
        const totalEpisodes = peacemakerData[season].length;
        if (episodeIndex < totalEpisodes - 1) {
            episodeIndex++;
            openPeacemakerEpisode(season, episodeIndex);
        }
    }

    // ===========================================================
    // INICIALIZACIÓN DE EVENTOS
    // ===========================================================

    document.addEventListener('DOMContentLoaded', () => {
        // Eventos del Modal de Idioma (para películas simples)
        document.getElementById('lang-es').addEventListener('click', () => loadSelectedVideo('es'));
        document.getElementById('lang-en').addEventListener('click', () => loadSelectedVideo('en'));

        // Eventos de Dexter
        document.getElementById('dexterPrevBtn').addEventListener('click', previousDexterEpisode);
        document.getElementById('dexterNextBtn').addEventListener('click', nextDexterEpisode);

        // Eventos de Peacemaker
        document.getElementById('peacemakerPrevBtn').addEventListener('click', previousPeacemakerEpisode);
        document.getElementById('peacemakerNextBtn').addEventListener('click', nextPeacemakerEpisode);

        // Evento para la tecla Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                const openModal = document.querySelector('.show');
                if (!openModal) return;
                switch (openModal.id) {
                    case 'cinema': closeCinema(); break;
                    case 'cinemaDexter': closeCinemaDexter(); break;
                    case 'cinemaPeacemaker': closePeacemakerCinema(); break;
                    case 'languageModal': closeLanguageModal(); break;
                }
            }
        });
    });
</script>
</body>
</html>
